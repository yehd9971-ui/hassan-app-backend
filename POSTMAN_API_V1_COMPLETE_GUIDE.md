# ๐ Hassan App API v1 - ุฏููู Postman ุงูุดุงูู

## ๐ ูุธุฑุฉ ุนุงูุฉ
ูุฐุง ุงูุฏููู ูุญุชูู ุนูู ุฌููุน ุฃูุงูุฑ API v1 ููุชุทุจูู ูุน ุชุนูููุงุช ููุตูุฉ ูุงุณุชุฎุฏุงู Postman.

---

## ๐ง ุฅุนุฏุงุฏ Postman

### 1. ูุชุบูุฑุงุช ุงูุจูุฆุฉ
ุฃูุดุฆ Environment ุฌุฏูุฏ ูู Postman ูุฃุถู ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:

```
BASE_URL: https://your-railway-app.railway.app
API_VERSION: v1
JWT_TOKEN: (ุณูุชู ููุคู ุชููุงุฆูุงู ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู)
```

### 2. Headers ุงูุงูุชุฑุงุถูุฉ
ุฃุถู ูุฐู Headers ูุฌููุน ุงูุทูุจุงุช:

```
Content-Type: application/json
Accept: application/json
```

---

## ๐ ุงููุณุงุฑุงุช ุงูุฃุณุงุณูุฉ

### 1. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
```http
GET {{BASE_URL}}/
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "message": "ูุฑุญุจุงู! ุฎุงุฏู Node.js ูุน Express ู TypeScript ูุนูู ุจูุฌุงุญ",
  "status": "success",
  "timestamp": "2025-10-21T01:27:03.962Z"
}
```

### 2. ูุญุต ุงูุตุญุฉ
```http
GET {{BASE_URL}}/health
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```
OK
```

### 3. ูุญุต ุงูุตุญุฉ ุงูููุตู
```http
GET {{BASE_URL}}/health/detailed
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "status": "OK",
  "uptime": 123.456,
  "database": "Connected",
  "timestamp": "2025-10-21T01:27:03.962Z"
}
```

---

## ๐ข Hassan App Routes

### 1. ูุนูููุงุช ุงูุชุทุจูู
```http
GET {{BASE_URL}}/hassan-app
```

### 2. ูุนูููุงุช ููุตูุฉ
```http
GET {{BASE_URL}}/hassan-app/info
```

### 3. ูุญุต ุตุญุฉ ุงูุชุทุจูู
```http
GET {{BASE_URL}}/hassan-app/health
```

---

## ๐ ูุธุงู ุงููุตุงุฏูุฉ

### 1. ุชุณุฌูู ุงูุฏุฎูู
```http
POST {{BASE_URL}}/hassan-app/login
Content-Type: application/json

{
  "username": "admin@example.com",
  "password": "your_password"
}
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": "507f1f77bcf86cd799439011",
      "role": "admin",
      "username": "admin@example.com",
      "name": "Admin User"
    }
  }
}
```

**โ๏ธ ููู:** ุงุญูุธ ุงูู `token` ูู ูุชุบูุฑ `JWT_TOKEN` ูู Postman.

### 2. ุชุณุฌูู ุงูุฎุฑูุฌ
```http
POST {{BASE_URL}}/hassan-app/logout
```

### 3. ุงูุชุญูู ูู ุตุญุฉ ุงูุชููู
```http
GET {{BASE_URL}}/hassan-app/verify-token
Authorization: Bearer {{JWT_TOKEN}}
```

---

## ๐ API v1 - ุฅุฏุงุฑุฉ ุงููุตุงุฆุฏ

### 1. ุฅูุดุงุก ูุตูุฏุฉ ุฌุฏูุฏุฉ
```http
POST {{BASE_URL}}/api/v1/poems
Authorization: Bearer {{JWT_TOKEN}}
Content-Type: application/json

{
  "title": "ูุตูุฏุฉ ุงูุญุจ",
  "text": "ูู ููุจู ุญุจ ูุง ููุชูู\nููู ุนููู ุดูู ูุง ููุฏุฃ",
  "verses": [
    "ูู ููุจู ุญุจ ูุง ููุชูู",
    "ููู ุนููู ุดูู ูุง ููุฏุฃ"
  ],
  "poemType": "ุนููุฏู",
  "meter": "ุจุญุฑ ุงููุงูู",
  "rhyme": "ุฃ",
  "published": true,
  "tags": ["ุญุจ", "ุดูู", "ุดุนุฑ"]
}
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุฅูุดุงุก ุงููุตูุฏุฉ ุจูุฌุงุญ",
  "data": {
    "_id": "507f1f77bcf86cd799439011",
    "title": "ูุตูุฏุฉ ุงูุญุจ",
    "text": "ูู ููุจู ุญุจ ูุง ููุชูู\nููู ุนููู ุดูู ูุง ููุฏุฃ",
    "verses": [
      "ูู ููุจู ุญุจ ูุง ููุชูู",
      "ููู ุนููู ุดูู ูุง ููุฏุฃ"
    ],
    "poemType": "ุนููุฏู",
    "meter": "ุจุญุฑ ุงููุงูู",
    "rhyme": "ุฃ",
    "published": true,
    "tags": ["ุญุจ", "ุดูู", "ุดุนุฑ"],
    "createdAt": "2025-10-21T01:27:03.962Z",
    "updatedAt": "2025-10-21T01:27:03.962Z"
  }
}
```

### 2. ุฌูุจ ุฌููุน ุงููุตุงุฆุฏ
```http
GET {{BASE_URL}}/api/v1/poems?page=1&limit=10&sort=new&published=true
```

**ูุนุงููุงุช ุงูุงุณุชุนูุงู:**
- `page`: ุฑูู ุงูุตูุญุฉ (ุงูุชุฑุงุถู: 1)
- `limit`: ุนุฏุฏ ุงููุตุงุฆุฏ ูู ุงูุตูุญุฉ (1-100ุ ุงูุชุฑุงุถู: 20)
- `sort`: ุชุฑุชูุจ ุงููุชุงุฆุฌ (`new` ุฃู `old`ุ ุงูุชุฑุงุถู: `new`)
- `published`: ุนุฑุถ ุงูููุดูุฑ ููุท (`true` ุฃู `false`)
- `type`: ููุน ุงููุตูุฏุฉ (`ุนููุฏู`, `ุญุฑ`, `ูุซุฑ`, `ุดุนุจู`)
- `tag`: ุงูุจุญุซ ุจุงููุณู
- `q`: ุงูุจุญุซ ูู ุงููุต

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุฌูุจ ุงููุตุงุฆุฏ ุจูุฌุงุญ",
  "data": {
    "poems": [
      {
        "_id": "507f1f77bcf86cd799439011",
        "title": "ูุตูุฏุฉ ุงูุญุจ",
        "text": "ูู ููุจู ุญุจ ูุง ููุชูู...",
        "poemType": "ุนููุฏู",
        "published": true,
        "createdAt": "2025-10-21T01:27:03.962Z"
      }
    ],
    "pagination": {
      "currentPage": 1,
      "totalPages": 5,
      "totalPoems": 100,
      "hasNext": true,
      "hasPrev": false
    }
  }
}
```

### 3. ุงูุจุญุซ ูู ุงููุตุงุฆุฏ
```http
GET {{BASE_URL}}/api/v1/poems/search?q=ุญุจ&type=ุนููุฏู&published=true
```

**ูุนุงููุงุช ุงูุจุญุซ:**
- `q`: ูููุฉ ุงูุจุญุซ (ูุทููุจุฉ)
- `type`: ููุน ุงููุตูุฏุฉ (ุงุฎุชูุงุฑู)
- `published`: ุนุฑุถ ุงูููุดูุฑ ููุท (ุงุฎุชูุงุฑู)

### 4. ุฌูุจ ูุตูุฏุฉ ุจุงููุนุฑู
```http
GET {{BASE_URL}}/api/v1/poems/507f1f77bcf86cd799439011
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุฌูุจ ุงููุตูุฏุฉ ุจูุฌุงุญ",
  "data": {
    "_id": "507f1f77bcf86cd799439011",
    "title": "ูุตูุฏุฉ ุงูุญุจ",
    "text": "ูู ููุจู ุญุจ ูุง ููุชูู\nููู ุนููู ุดูู ูุง ููุฏุฃ",
    "verses": [
      "ูู ููุจู ุญุจ ูุง ููุชูู",
      "ููู ุนููู ุดูู ูุง ููุฏุฃ"
    ],
    "poemType": "ุนููุฏู",
    "meter": "ุจุญุฑ ุงููุงูู",
    "rhyme": "ุฃ",
    "published": true,
    "tags": ["ุญุจ", "ุดูู", "ุดุนุฑ"],
    "createdAt": "2025-10-21T01:27:03.962Z",
    "updatedAt": "2025-10-21T01:27:03.962Z"
  }
}
```

### 5. ุชุญุฏูุซ ูุตูุฏุฉ
```http
PUT {{BASE_URL}}/api/v1/poems/507f1f77bcf86cd799439011
Authorization: Bearer {{JWT_TOKEN}}
Content-Type: application/json

{
  "title": "ูุตูุฏุฉ ุงูุญุจ ุงููุญุฏุซุฉ",
  "published": false,
  "tags": ["ุญุจ", "ุดูู", "ุดุนุฑ", "ุชุญุฏูุซ"]
}
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุชุญุฏูุซ ุงููุตูุฏุฉ ุจูุฌุงุญ",
  "data": {
    "_id": "507f1f77bcf86cd799439011",
    "title": "ูุตูุฏุฉ ุงูุญุจ ุงููุญุฏุซุฉ",
    "text": "ูู ููุจู ุญุจ ูุง ููุชูู...",
    "published": false,
    "tags": ["ุญุจ", "ุดูู", "ุดุนุฑ", "ุชุญุฏูุซ"],
    "updatedAt": "2025-10-21T01:27:03.962Z"
  }
}
```

### 6. ุญุฐู ูุตูุฏุฉ
```http
DELETE {{BASE_URL}}/api/v1/poems/507f1f77bcf86cd799439011
Authorization: Bearer {{JWT_TOKEN}}
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุญุฐู ุงููุตูุฏุฉ ุจูุฌุงุญ"
}
```

---

## ๐ ุงูุตูุงุญูุงุช ุงููุทููุจุฉ

### ุงููุณุงุฑุงุช ุงูุนุงูุฉ (ูุง ุชุญุชุงุฌ ูุตุงุฏูุฉ):
- `GET /`
- `GET /health`
- `GET /health/detailed`
- `GET /hassan-app`
- `GET /hassan-app/info`
- `GET /hassan-app/health`
- `GET /api/v1/poems` (ุฌูุจ ุงููุตุงุฆุฏ)
- `GET /api/v1/poems/search` (ุงูุจุญุซ)
- `GET /api/v1/poems/:id` (ุฌูุจ ูุตูุฏุฉ ูุงุญุฏุฉ)

### ุงููุณุงุฑุงุช ุงููุญููุฉ (ุชุญุชุงุฌ ูุตุงุฏูุฉ):
- `POST /hassan-app/login`
- `POST /hassan-app/logout`
- `GET /hassan-app/verify-token`
- `POST /api/v1/poems` (ุฅูุดุงุก ูุตูุฏุฉ)
- `PUT /api/v1/poems/:id` (ุชุญุฏูุซ ูุตูุฏุฉ)
- `DELETE /api/v1/poems/:id` (ุญุฐู ูุตูุฏุฉ)

**ุงูุฃุฏูุงุฑ ุงููุทููุจุฉ:**
- `poet`: ูููู ุฅูุดุงุก ูุชุญุฏูุซ ูุญุฐู ุงููุตุงุฆุฏ
- `admin`: ุฌููุน ุงูุตูุงุญูุงุช

---

## โก ุญุฏูุฏ ุงููุนุฏู (Rate Limiting)

### ุญุฏูุฏ ุงููุฑุงุกุฉ:
- **100 ุทูุจ ูู ุงูุฏูููุฉ** ูููุณุงุฑุงุช ุงูุนุงูุฉ

### ุญุฏูุฏ ุงููุชุงุจุฉ:
- **20 ุทูุจ ูู ุงูุฏูููุฉ** ูููุณุงุฑุงุช ุงููุญููุฉ

### ุญุฏูุฏ ุงููุตุงุฏูุฉ:
- **10 ูุญุงููุงุช ูู ุงูุฏูููุฉ** ูุชุณุฌูู ุงูุฏุฎูู

---

## ๐จ ุฑููุฒ ุงูุฃุฎุทุงุก

| ุงูููุฏ | ุงููุนูู | ุงูุญู |
|-------|--------|------|
| `400` | Bad Request | ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฑุณูุฉ |
| `401` | Unauthorized | ุชุฃูุฏ ูู ูุฌูุฏ ุงูุชููู ุงูุตุญูุญ |
| `403` | Forbidden | ููุณ ูุฏูู ุตูุงุญูุฉ ูููุตูู |
| `404` | Not Found | ุงููุณุงุฑ ุฃู ุงูููุฑุฏ ุบูุฑ ููุฌูุฏ |
| `429` | Too Many Requests | ุชุฌุงูุฒุช ุญุฏ ุงูุทูุจุงุช ุงููุณููุญ |
| `500` | Internal Server Error | ุฎุทุฃ ูู ุงูุฎุงุฏู |

---

## ๐ ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู

### 1. ุณููุงุฑูู ูุงูู - ุฅูุดุงุก ูุตูุฏุฉ
```bash
# 1. ุชุณุฌูู ุงูุฏุฎูู
POST /hassan-app/login
{
  "username": "admin@example.com",
  "password": "password123"
}

# 2. ุญูุธ ุงูุชููู ูู ูุชุบูุฑ JWT_TOKEN

# 3. ุฅูุดุงุก ูุตูุฏุฉ
POST /api/v1/poems
Authorization: Bearer {{JWT_TOKEN}}
{
  "title": "ูุตูุฏุฉ ุฌุฏูุฏุฉ",
  "text": "ูุต ุงููุตูุฏุฉ ููุง",
  "verses": ["ุงูุจูุช ุงูุฃูู", "ุงูุจูุช ุงูุซุงูู"],
  "poemType": "ุนููุฏู",
  "published": true
}

# 4. ุฌูุจ ุงููุตูุฏุฉ
GET /api/v1/poems/{{poem_id}}
```

### 2. ุงูุจุญุซ ูุงูุชุตููุฉ
```bash
# ุงูุจุญุซ ูู ุงููุตุงุฆุฏ
GET /api/v1/poems/search?q=ุญุจ&type=ุนููุฏู

# ุฌูุจ ุงููุตุงุฆุฏ ุงูููุดูุฑุฉ ููุท
GET /api/v1/poems?published=true&sort=old

# ุงูุจุญุซ ุจุงููุณู
GET /api/v1/poems?tag=ุดูู&limit=5
```

---

## ๐ง ูุตุงุฆุญ Postman

### 1. ุฅุนุฏุงุฏ Collection
- ุฃูุดุฆ Collection ุฌุฏูุฏ ุจุงุณู "Hassan App API v1"
- ูุณู ุงููุณุงุฑุงุช ุฅูู ูุฌูุฏุงุช:
  - `Auth` (ุงููุตุงุฏูุฉ)
  - `Poems` (ุงููุตุงุฆุฏ)
  - `Health` (ูุญุต ุงูุตุญุฉ)

### 2. ุงุณุชุฎุฏุงู Tests Scripts
```javascript
// ูู Tests tab ููุณุงุฑ ุชุณุฌูู ุงูุฏุฎูู
if (pm.response.code === 200) {
    const response = pm.response.json();
    if (response.success && response.data.token) {
        pm.environment.set("JWT_TOKEN", response.data.token);
    }
}
```

### 3. ุฅุนุฏุงุฏ Pre-request Scripts
```javascript
// ุฅุถุงูุฉ ุงูุชููู ุชููุงุฆูุงู ูููุณุงุฑุงุช ุงููุญููุฉ
const token = pm.environment.get("JWT_TOKEN");
if (token) {
    pm.request.headers.add({
        key: "Authorization",
        value: `Bearer ${token}`
    });
}
```

---

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### 1. ูุญุต ุงุณุชุฌุงุจุฉ ุงูุฎุงุฏู
```http
GET {{BASE_URL}}/health/detailed
```

### 2. ูุฑุงูุจุฉ ุงูุฐุงูุฑุฉ
```json
{
  "status": "OK",
  "uptime": 3600,
  "database": "Connected",
  "memory": {
    "rss": 45678912,
    "heapTotal": 20971520,
    "heapUsed": 15728640,
    "external": 1234567
  }
}
```

---

## ๐ฏ ุฃูุถู ุงูููุงุฑุณุงุช

1. **ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ** ูุชุณููู ุงูุชุจุฏูู ุจูู ุงูุจูุฆุงุช
2. **ุงุญูุธ ุงูุชููู** ูู ูุชุบูุฑ ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู
3. **ุชุญูู ูู ุงูุงุณุชุฌุงุจุงุช** ูุจู ุงููุชุงุจุนุฉ
4. **ุงุณุชุฎุฏู Rate Limiting** ุจุญููุฉ
5. **ุงุฎุชุจุฑ ุฌููุน ุงูุณููุงุฑูููุงุช** (ูุฌุงุญ ููุดู)

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ุตุญุฉ ุงูุชููู
2. ุชุฃูุฏ ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฑุณูุฉ
3. ุฑุงุฌุน ุฑููุฒ ุงูุฃุฎุทุงุก
4. ุชุญูู ูู ุงุชุตุงู ุงูุฎุงุฏู

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุฏููู ูู Hassan App API v1** ๐
**ุขุฎุฑ ุชุญุฏูุซ: 21 ุฃูุชูุจุฑ 2025** ๐
